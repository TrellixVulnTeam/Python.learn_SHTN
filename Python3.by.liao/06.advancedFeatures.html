<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
  </style>
  <link rel="stylesheet" href="book.css" type="text/css" />
</head>
<body>
<h2 id="&#39640;&#32423;&#29305;&#24615;">6. &#39640;&#32423;&#29305;&#24615;</h2>
<p>&#25484;&#25569;&#20102;Python&#30340;&#25968;&#25454;&#31867;&#22411;&#12289;&#35821;&#21477;&#21644;&#20989;&#25968;&#65292;&#22522;&#26412;&#19978;&#23601;&#21487;&#20197;&#32534;&#20889;&#20986;&#24456;&#22810;&#26377;&#29992;&#30340;&#31243;&#24207;&#20102;&#12290;</p>
<p>&#27604;&#22914;&#26500;&#36896;&#19968;&#20010;<code>1, 3, 5, 7, ..., 99</code>&#30340;&#21015;&#34920;&#65292;&#21487;&#20197;&#36890;&#36807;&#24490;&#29615;&#23454;&#29616;&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">L <span class="op">=</span> []
n <span class="op">=</span> <span class="dv">1</span>
<span class="cf">while</span> n <span class="op">&lt;=</span> <span class="dv">99</span>:
    L.append(n)
    n <span class="op">=</span> n <span class="op">+</span> <span class="dv">2</span></code></pre></div>
<p>&#21462;<code>list</code>&#30340;&#21069;&#19968;&#21322;&#30340;&#20803;&#32032;&#65292;&#20063;&#21487;&#20197;&#36890;&#36807;&#24490;&#29615;&#23454;&#29616;&#12290;</p>
<p>&#20294;&#26159;&#22312;Python&#20013;&#65292;&#20195;&#30721;&#19981;&#26159;&#36234;&#22810;&#36234;&#22909;&#65292;&#32780;&#26159;&#36234;&#23569;&#36234;&#22909;&#12290;&#20195;&#30721;&#19981;&#26159;&#36234;&#22797;&#26434;&#36234;&#22909;&#65292;&#32780;&#26159;&#36234;&#31616;&#21333;&#36234;&#22909;&#12290;</p>
<p>&#22522;&#20110;&#36825;&#19968;&#24605;&#24819;&#65292;&#25105;&#20204;&#26469;&#20171;&#32461;Python&#20013;&#38750;&#24120;&#26377;&#29992;&#30340;&#39640;&#32423;&#29305;&#24615;&#65292;1&#34892;&#20195;&#30721;&#33021;&#23454;&#29616;&#30340;&#21151;&#33021;&#65292;&#20915;&#19981;&#20889;5&#34892;&#20195;&#30721;&#12290;&#35831;&#22987;&#32456;&#29282;&#35760;&#65292;&#20195;&#30721;&#36234;&#23569;&#65292;&#24320;&#21457;&#25928;&#29575;&#36234;&#39640;&#12290;</p>
<h3 id="&#20999;&#29255;">6.1 &#20999;&#29255;</h3>
<p>&#21462;&#19968;&#20010;<code>list</code>&#25110;<code>tuple</code>&#30340;&#37096;&#20998;&#20803;&#32032;&#26159;&#38750;&#24120;&#24120;&#35265;&#30340;&#25805;&#20316;&#12290;&#27604;&#22914;&#65292;&#19968;&#20010;<code>list</code>&#22914;&#19979;&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> L <span class="op">=</span> [<span class="st">&#39;Michael&#39;</span>, <span class="st">&#39;Sarah&#39;</span>, <span class="st">&#39;Tracy&#39;</span>, <span class="st">&#39;Bob&#39;</span>, <span class="st">&#39;Jack&#39;</span>]</code></pre></div>
<p>&#21462;&#21069;3&#20010;&#20803;&#32032;&#65292;&#24212;&#35813;&#24590;&#20040;&#20570;&#65311;</p>
<ul>
<li>&#31528;&#21150;&#27861;&#65306;</li>
</ul>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> [L[<span class="dv">0</span>], L[<span class="dv">1</span>], L[<span class="dv">2</span>]]
[<span class="st">&#39;Michael&#39;</span>, <span class="st">&#39;Sarah&#39;</span>, <span class="st">&#39;Tracy&#39;</span>]</code></pre></div>
<p>&#20043;&#25152;&#20197;&#26159;&#31528;&#21150;&#27861;&#26159;&#22240;&#20026;&#25193;&#23637;&#19968;&#19979;&#65292;&#21462;&#21069;N&#20010;&#20803;&#32032;&#23601;&#27809;&#36761;&#20102;&#12290;</p>
<p>&#21462;&#21069;N&#20010;&#20803;&#32032;&#65292;&#20063;&#23601;&#26159;&#32034;&#24341;&#20026;0-(N-1)&#30340;&#20803;&#32032;&#65292;&#21487;&#20197;&#29992;&#24490;&#29615;&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> r <span class="op">=</span> []
<span class="op">&gt;&gt;&gt;</span> n <span class="op">=</span> <span class="dv">3</span>
<span class="op">&gt;&gt;&gt;</span> <span class="cf">for</span> i <span class="op">in</span> <span class="bu">range</span>(n):
...     r.append(L[i])
... 
<span class="op">&gt;&gt;&gt;</span> r
[<span class="st">&#39;Michael&#39;</span>, <span class="st">&#39;Sarah&#39;</span>, <span class="st">&#39;Tracy&#39;</span>]</code></pre></div>
<p>&#23545;&#36825;&#31181;&#32463;&#24120;&#21462;&#25351;&#23450;&#32034;&#24341;&#33539;&#22260;&#30340;&#25805;&#20316;&#65292;&#29992;&#24490;&#29615;&#21313;&#20998;&#32321;&#29712;&#65292;&#22240;&#27492;&#65292;Python&#25552;&#20379;&#20102;<strong>&#20999;&#29255;&#65288;Slice&#65289;</strong>&#25805;&#20316;&#31526;&#65292;&#33021;&#22823;&#22823;&#31616;&#21270;&#36825;&#31181;&#25805;&#20316;&#12290;</p>
<p>&#23545;&#24212;&#19978;&#38754;&#30340;&#38382;&#39064;&#65292;&#21462;&#21069;3&#20010;&#20803;&#32032;&#65292;&#29992;&#19968;&#34892;&#20195;&#30721;&#23601;&#21487;&#20197;&#23436;&#25104;&#20999;&#29255;&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> L[<span class="dv">0</span>:<span class="dv">3</span>]
[<span class="st">&#39;Michael&#39;</span>, <span class="st">&#39;Sarah&#39;</span>, <span class="st">&#39;Tracy&#39;</span>]</code></pre></div>
<p><code>L[0:3]</code>&#34920;&#31034;&#65292;&#20174;&#32034;&#24341;0&#24320;&#22987;&#21462;&#65292;&#30452;&#21040;&#32034;&#24341;3&#20026;&#27490;&#65292;&#20294;<strong>&#19981;&#21253;&#25324;&#32034;&#24341;3</strong>&#12290;&#21363;&#32034;&#24341;0&#65292;1&#65292;2&#65292;&#27491;&#22909;&#26159;3&#20010;&#20803;&#32032;&#12290;</p>
<p>&#22914;&#26524;&#31532;&#19968;&#20010;&#32034;&#24341;&#26159;0&#65292;&#36824;&#21487;&#20197;&#30465;&#30053;&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> L[:<span class="dv">3</span>]
[<span class="st">&#39;Michael&#39;</span>, <span class="st">&#39;Sarah&#39;</span>, <span class="st">&#39;Tracy&#39;</span>]</code></pre></div>
<p>&#20063;&#21487;&#20197;&#20174;&#32034;&#24341;1&#24320;&#22987;&#65292;&#21462;&#20986;2&#20010;&#20803;&#32032;&#20986;&#26469;&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> L[<span class="dv">1</span>:<span class="dv">3</span>]
[<span class="st">&#39;Sarah&#39;</span>, <span class="st">&#39;Tracy&#39;</span>]</code></pre></div>
<p>&#31867;&#20284;&#30340;&#65292;&#26082;&#28982;Python&#25903;&#25345;<code>L[-1]</code>&#21462;&#20498;&#25968;&#31532;&#19968;&#20010;&#20803;&#32032;&#65292;&#37027;&#20040;&#23427;&#21516;&#26679;&#25903;&#25345;&#20498;&#25968;&#20999;&#29255;&#65292;&#35797;&#35797;&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> L[<span class="op">-</span><span class="dv">2</span>:]
[<span class="st">&#39;Bob&#39;</span>, <span class="st">&#39;Jack&#39;</span>]
<span class="op">&gt;&gt;&gt;</span> L[<span class="op">-</span><span class="dv">2</span>:<span class="op">-</span><span class="dv">1</span>]
[<span class="st">&#39;Bob&#39;</span>]</code></pre></div>
<p>&#35760;&#20303;&#20498;&#25968;&#31532;&#19968;&#20010;&#20803;&#32032;&#30340;&#32034;&#24341;&#26159;-1&#12290;</p>
<p>&#20999;&#29255;&#25805;&#20316;&#21313;&#20998;&#26377;&#29992;&#12290;&#25105;&#20204;&#20808;&#21019;&#24314;&#19968;&#20010;0-99&#30340;&#25968;&#21015;&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> L <span class="op">=</span> <span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">100</span>))
<span class="op">&gt;&gt;&gt;</span> L
[<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, ..., <span class="dv">99</span>]</code></pre></div>
<p>&#21487;&#20197;&#36890;&#36807;&#20999;&#29255;&#36731;&#26494;&#21462;&#20986;&#26576;&#19968;&#27573;&#25968;&#21015;&#12290;&#27604;&#22914;&#21069;10&#20010;&#25968;&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> L[:<span class="dv">10</span>]
[<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>]</code></pre></div>
<p>&#21518;10&#20010;&#25968;&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> L[<span class="op">-</span><span class="dv">10</span>:]
[<span class="dv">90</span>, <span class="dv">91</span>, <span class="dv">92</span>, <span class="dv">93</span>, <span class="dv">94</span>, <span class="dv">95</span>, <span class="dv">96</span>, <span class="dv">97</span>, <span class="dv">98</span>, <span class="dv">99</span>]</code></pre></div>
<p>&#21069;11-20&#20010;&#25968;&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> L[<span class="dv">10</span>:<span class="dv">20</span>]
[<span class="dv">10</span>, <span class="dv">11</span>, <span class="dv">12</span>, <span class="dv">13</span>, <span class="dv">14</span>, <span class="dv">15</span>, <span class="dv">16</span>, <span class="dv">17</span>, <span class="dv">18</span>, <span class="dv">19</span>]</code></pre></div>
<p>&#21069;10&#20010;&#25968;&#65292;&#27599;&#20004;&#20010;&#21462;&#19968;&#20010;&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> L[:<span class="dv">10</span>:<span class="dv">2</span>]
[<span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">8</span>]</code></pre></div>
<p>&#25152;&#26377;&#25968;&#65292;&#27599;5&#20010;&#21462;&#19968;&#20010;&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> L[::<span class="dv">5</span>]
[<span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">15</span>, <span class="dv">20</span>, <span class="dv">25</span>, <span class="dv">30</span>, <span class="dv">35</span>, <span class="dv">40</span>, <span class="dv">45</span>, <span class="dv">50</span>, <span class="dv">55</span>, <span class="dv">60</span>, <span class="dv">65</span>, <span class="dv">70</span>, <span class="dv">75</span>, <span class="dv">80</span>, <span class="dv">85</span>, <span class="dv">90</span>, <span class="dv">95</span>]</code></pre></div>
<p>&#29978;&#33267;&#20160;&#20040;&#37117;&#19981;&#20889;&#65292;&#21482;&#20889;<code>[:]</code>&#23601;&#21487;&#20197;&#21407;&#26679;&#22797;&#21046;&#19968;&#20010;<code>list</code>&#65306;</p>
<pre><code>&gt;&gt;&gt; L[:]
[0, 1, 2, 3, ..., 99]</code></pre>
<p><code>tuple</code>&#20063;&#26159;&#19968;&#31181;<code>list</code>&#65292;&#21807;&#19968;&#21306;&#21035;&#26159;<code>tuple</code>&#19981;&#21487;&#21464;&#12290;&#22240;&#27492;&#65292;<code>tuple</code>&#20063;&#21487;&#20197;&#29992;&#20999;&#29255;&#25805;&#20316;&#65292;&#21482;&#26159;&#25805;&#20316;&#30340;&#32467;&#26524;&#20173;&#26159;<code>tuple</code>&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> (<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>)[:<span class="dv">3</span>]
(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>)</code></pre></div>
<p>&#23383;&#31526;&#20018;<code>'xxx'</code>&#20063;&#21487;&#20197;&#30475;&#25104;&#26159;&#19968;&#31181;<code>list</code>&#65292;&#27599;&#20010;&#20803;&#32032;&#23601;&#26159;&#19968;&#20010;&#23383;&#31526;&#12290;&#22240;&#27492;&#65292;&#23383;&#31526;&#20018;&#20063;&#21487;&#20197;&#29992;&#20999;&#29255;&#25805;&#20316;&#65292;&#21482;&#26159;&#25805;&#20316;&#32467;&#26524;&#20173;&#26159;&#23383;&#31526;&#20018;&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> <span class="st">&#39;ABCDEFG&#39;</span>[:<span class="dv">3</span>]
<span class="co">&#39;ABC&#39;</span>
<span class="op">&gt;&gt;&gt;</span> <span class="st">&#39;ABCDEFG&#39;</span>[::<span class="dv">2</span>]
<span class="co">&#39;ACEG&#39;</span></code></pre></div>
<p>&#22312;&#24456;&#22810;&#32534;&#31243;&#35821;&#35328;&#20013;&#65292;&#38024;&#23545;&#23383;&#31526;&#20018;&#25552;&#20379;&#20102;&#24456;&#22810;&#21508;&#31181;&#25130;&#21462;&#20989;&#25968;&#65288;&#20363;&#22914;&#65292;<code>substring</code>&#65289;&#65292;&#20854;&#23454;&#30446;&#30340;&#23601;&#26159;&#23545;&#23383;&#31526;&#20018;&#20999;&#29255;&#12290;Python&#27809;&#26377;&#38024;&#23545;&#23383;&#31526;&#20018;&#30340;&#25130;&#21462;&#20989;&#25968;&#65292;&#21482;&#38656;&#35201;&#20999;&#29255;&#19968;&#20010;&#25805;&#20316;&#23601;&#21487;&#20197;&#23436;&#25104;&#65292;&#38750;&#24120;&#31616;&#21333;&#12290;</p>
<h4 id="&#23567;&#32467;">&#23567;&#32467;</h4>
<p>&#26377;&#20102;&#20999;&#29255;&#25805;&#20316;&#65292;&#24456;&#22810;&#22320;&#26041;&#24490;&#29615;&#23601;&#19981;&#20877;&#38656;&#35201;&#20102;&#12290;Python&#30340;&#20999;&#29255;&#38750;&#24120;&#28789;&#27963;&#65292;&#19968;&#34892;&#20195;&#30721;&#23601;&#21487;&#20197;&#23454;&#29616;&#24456;&#22810;&#34892;&#24490;&#29615;&#25165;&#33021;&#23436;&#25104;&#30340;&#25805;&#20316;&#12290;</p>
<h3 id="&#36845;&#20195;">6.2 &#36845;&#20195;</h3>
<p>&#22914;&#26524;&#32473;&#23450;&#19968;&#20010;<code>list</code>&#25110;<code>tuple</code>&#65292;&#25105;&#20204;&#21487;&#20197;&#36890;&#36807;<code>for&#24490;&#29615;</code>&#26469;&#36941;&#21382;&#36825;&#20010;<code>list</code>&#25110;<code>tuple</code>&#65292;&#36825;&#31181;&#36941;&#21382;&#25105;&#20204;&#31216;&#20026;<strong>&#36845;&#20195;&#65288;Iteration&#65289;</strong>&#12290;</p>
<p>&#22312;Python&#20013;&#65292;&#36845;&#20195;&#26159;&#36890;&#36807;<code>for ... in</code>&#26469;&#23436;&#25104;&#30340;&#65292;&#32780;&#24456;&#22810;&#35821;&#35328;&#27604;&#22914;C&#25110;&#32773;Java&#65292;&#36845;&#20195;list&#26159;&#36890;&#36807;&#19979;&#26631;&#23436;&#25104;&#30340;&#65292;&#27604;&#22914;Java&#20195;&#30721;&#65306;</p>
<div class="sourceCode"><pre class="sourceCode java"><code class="sourceCode java"><span class="kw">for</span> (i=<span class="dv">0</span>; i&lt;list.<span class="fu">length</span>; i++) {
    n = list[i];
}</code></pre></div>
<p>&#21487;&#20197;&#30475;&#20986;&#65292;Python&#30340;<code>for&#24490;&#29615;</code>&#25277;&#35937;&#31243;&#24230;&#35201;&#39640;&#20110;Java&#30340;<code>for&#24490;&#29615;</code>&#65292;&#22240;&#20026;Python&#30340;<code>for&#24490;&#29615;</code>&#19981;&#20165;&#21487;&#20197;&#29992;&#22312;<code>list</code>&#25110;<code>tuple</code>&#19978;&#65292;&#36824;&#21487;&#20197;&#20316;&#29992;&#22312;&#20854;&#20182;&#21487;&#36845;&#20195;&#23545;&#35937;&#19978;&#12290;</p>
<p><code>list</code>&#36825;&#31181;&#25968;&#25454;&#31867;&#22411;&#34429;&#28982;&#26377;&#19979;&#26631;&#65292;&#20294;&#24456;&#22810;&#20854;&#20182;&#25968;&#25454;&#31867;&#22411;&#26159;&#27809;&#26377;&#19979;&#26631;&#30340;&#65292;&#20294;&#26159;&#65292;&#21482;&#35201;&#26159;&#21487;&#36845;&#20195;&#23545;&#35937;&#65292;&#26080;&#35770;&#26377;&#26080;&#19979;&#26631;&#65292;&#37117;&#21487;&#20197;&#36845;&#20195;&#65292;&#27604;&#22914;<code>dict</code>&#23601;&#21487;&#20197;&#36845;&#20195;&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> d <span class="op">=</span> {<span class="st">&#39;a&#39;</span>: <span class="dv">1</span>, <span class="st">&#39;b&#39;</span>: <span class="dv">2</span>, <span class="st">&#39;c&#39;</span>: <span class="dv">3</span>}
<span class="op">&gt;&gt;&gt;</span> <span class="cf">for</span> key <span class="op">in</span> d:
...     <span class="bu">print</span>(key)
...
a
c
b</code></pre></div>
<p>&#22240;&#20026;<code>dict</code>&#30340;&#23384;&#20648;&#19981;&#26159;&#25353;&#29031;<code>list</code>&#30340;&#26041;&#24335;&#39034;&#24207;&#25490;&#21015;&#65292;&#25152;&#20197;&#65292;&#36845;&#20195;&#20986;&#30340;&#32467;&#26524;&#39034;&#24207;&#24456;&#21487;&#33021;&#19981;&#19968;&#26679;&#12290;</p>
<p>&#40664;&#35748;&#24773;&#20917;&#19979;&#65292;<code>dict</code>&#36845;&#20195;&#30340;&#26159;<code>key</code>&#12290;&#22914;&#26524;&#35201;&#36845;&#20195;<code>value</code>&#65292;&#21487;&#20197;&#29992;<code>for value in d.values()</code>&#65292;&#22914;&#26524;&#35201;&#21516;&#26102;&#36845;&#20195;<code>key</code>&#21644;<code>value</code>&#65292;&#21487;&#20197;&#29992;<code>for k, v in d.items()</code>&#12290;</p>
<p>&#30001;&#20110;&#23383;&#31526;&#20018;&#20063;&#26159;&#21487;&#36845;&#20195;&#23545;&#35937;&#65292;&#22240;&#27492;&#65292;&#20063;&#21487;&#20197;&#20316;&#29992;&#20110;for&#24490;&#29615;&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> <span class="cf">for</span> ch <span class="op">in</span> <span class="st">&#39;ABC&#39;</span>:
...     <span class="bu">print</span>(ch)
...
A
B
C</code></pre></div>
<p>&#25152;&#20197;&#65292;&#24403;&#25105;&#20204;&#20351;&#29992;for&#24490;&#29615;&#26102;&#65292;&#21482;&#35201;&#20316;&#29992;&#20110;&#19968;&#20010;&#21487;&#36845;&#20195;&#23545;&#35937;&#65292;for&#24490;&#29615;&#23601;&#21487;&#20197;&#27491;&#24120;&#36816;&#34892;&#65292;&#32780;&#25105;&#20204;&#19981;&#22826;&#20851;&#24515;&#35813;&#23545;&#35937;&#31350;&#31455;&#26159;list&#36824;&#26159;&#20854;&#20182;&#25968;&#25454;&#31867;&#22411;&#12290;</p>
<p>&#37027;&#20040;&#65292;&#22914;&#20309;&#21028;&#26029;&#19968;&#20010;&#23545;&#35937;&#26159;&#21487;&#36845;&#20195;&#23545;&#35937;&#21602;&#65311;&#26041;&#27861;&#26159;&#36890;&#36807;collections&#27169;&#22359;&#30340;Iterable&#31867;&#22411;&#21028;&#26029;&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> <span class="im">from</span> collections <span class="im">import</span> Iterable
<span class="op">&gt;&gt;&gt;</span> <span class="bu">isinstance</span>(<span class="st">&#39;abc&#39;</span>, Iterable) <span class="co"># str&#26159;&#21542;&#21487;&#36845;&#20195;</span>
<span class="va">True</span>
<span class="op">&gt;&gt;&gt;</span> <span class="bu">isinstance</span>([<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>], Iterable) <span class="co"># list&#26159;&#21542;&#21487;&#36845;&#20195;</span>
<span class="va">True</span>
<span class="op">&gt;&gt;&gt;</span> <span class="bu">isinstance</span>(<span class="dv">123</span>, Iterable) <span class="co"># &#25972;&#25968;&#26159;&#21542;&#21487;&#36845;&#20195;</span>
<span class="va">False</span></code></pre></div>
<p>&#26368;&#21518;&#19968;&#20010;&#23567;&#38382;&#39064;&#65292;&#22914;&#26524;&#35201;&#23545;<code>list</code>&#23454;&#29616;&#31867;&#20284;Java&#37027;&#26679;&#30340;&#19979;&#26631;&#24490;&#29615;&#24590;&#20040;&#21150;&#65311;<code>Python</code>&#20869;&#32622;&#30340;<code>enumerate</code>&#20989;&#25968;&#21487;&#20197;&#25226;&#19968;&#20010;<code>list</code>&#21464;&#25104;&#32034;&#24341;-&#20803;&#32032;&#23545;&#65292;&#36825;&#26679;&#23601;&#21487;&#20197;&#22312;<code>for&#24490;&#29615;</code>&#20013;&#21516;&#26102;&#36845;&#20195;&#32034;&#24341;&#21644;&#20803;&#32032;&#26412;&#36523;&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> <span class="cf">for</span> i, value <span class="op">in</span> <span class="bu">enumerate</span>([<span class="st">&#39;A&#39;</span>, <span class="st">&#39;B&#39;</span>, <span class="st">&#39;C&#39;</span>]):
...     <span class="bu">print</span>(i, value)
...
<span class="dv">0</span> A
<span class="dv">1</span> B
<span class="dv">2</span> C</code></pre></div>
<p>&#19978;&#38754;&#30340;<code>for&#24490;&#29615;</code>&#37324;&#65292;&#21516;&#26102;&#24341;&#29992;&#20102;&#20004;&#20010;&#21464;&#37327;&#65292;&#22312;Python&#37324;&#26159;&#24456;&#24120;&#35265;&#30340;&#65292;&#27604;&#22914;&#19979;&#38754;&#30340;&#20195;&#30721;&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> <span class="cf">for</span> x, y <span class="op">in</span> [(<span class="dv">1</span>, <span class="dv">1</span>), (<span class="dv">2</span>, <span class="dv">4</span>), (<span class="dv">3</span>, <span class="dv">9</span>)]:
...     <span class="bu">print</span>(x, y)
...
<span class="dv">1</span> <span class="dv">1</span>
<span class="dv">2</span> <span class="dv">4</span>
<span class="dv">3</span> <span class="dv">9</span></code></pre></div>
<h4 id="&#23567;&#32467;-1">&#23567;&#32467;</h4>
<p>&#20219;&#20309;&#21487;&#36845;&#20195;&#23545;&#35937;&#37117;&#21487;&#20197;&#20316;&#29992;&#20110;<code>for&#24490;&#29615;</code>&#65292;&#21253;&#25324;&#25105;&#20204;&#33258;&#23450;&#20041;&#30340;&#25968;&#25454;&#31867;&#22411;&#65292;&#21482;&#35201;&#31526;&#21512;&#36845;&#20195;&#26465;&#20214;&#65292;&#23601;&#21487;&#20197;&#20351;&#29992;for&#24490;&#29615;&#12290;</p>
<h3 id="&#21015;&#34920;&#29983;&#25104;&#24335;">6.3 &#21015;&#34920;&#29983;&#25104;&#24335;</h3>
<p>&#21015;&#34920;&#29983;&#25104;&#24335;&#21363;<code>List Comprehensions</code>&#65292;&#26159;Python&#20869;&#32622;&#30340;&#38750;&#24120;&#31616;&#21333;&#21364;&#24378;&#22823;&#30340;&#21487;&#20197;&#29992;&#26469;&#21019;&#24314;<code>list</code>&#30340;&#29983;&#25104;&#24335;&#12290;</p>
<p>&#20030;&#20010;&#20363;&#23376;&#65292;&#35201;&#29983;&#25104;<code>list [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</code>&#21487;&#20197;&#29992;<code>list(range(1, 11))</code>&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> <span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">11</span>))
[<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>, <span class="dv">10</span>]</code></pre></div>
<p>&#20294;&#22914;&#26524;&#35201;&#29983;&#25104;<code>[1x1, 2x2, 3x3, ..., 10x10]</code>&#24590;&#20040;&#20570;&#65311;&#26041;&#27861;&#19968;&#26159;&#24490;&#29615;&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> L <span class="op">=</span> []
<span class="op">&gt;&gt;&gt;</span> <span class="cf">for</span> x <span class="op">in</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">11</span>):
...    L.append(x <span class="op">*</span> x)
...
<span class="op">&gt;&gt;&gt;</span> L
[<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">9</span>, <span class="dv">16</span>, <span class="dv">25</span>, <span class="dv">36</span>, <span class="dv">49</span>, <span class="dv">64</span>, <span class="dv">81</span>, <span class="dv">100</span>]</code></pre></div>
<p>&#20294;&#26159;&#24490;&#29615;&#22826;&#32321;&#29712;&#65292;&#32780;&#21015;&#34920;&#29983;&#25104;&#24335;&#21017;&#21487;&#20197;&#29992;&#19968;&#34892;&#35821;&#21477;&#20195;&#26367;&#24490;&#29615;&#29983;&#25104;&#19978;&#38754;&#30340;list&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> [x <span class="op">*</span> x <span class="cf">for</span> x <span class="op">in</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">11</span>)]
[<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">9</span>, <span class="dv">16</span>, <span class="dv">25</span>, <span class="dv">36</span>, <span class="dv">49</span>, <span class="dv">64</span>, <span class="dv">81</span>, <span class="dv">100</span>]</code></pre></div>
<p>&#20889;&#21015;&#34920;&#29983;&#25104;&#24335;&#26102;&#65292;&#25226;&#35201;&#29983;&#25104;&#30340;&#20803;&#32032;<code>x * x</code>&#25918;&#21040;&#21069;&#38754;&#65292;&#21518;&#38754;&#36319;<code>for&#24490;&#29615;</code>&#65292;&#23601;&#21487;&#20197;&#25226;<code>list</code>&#21019;&#24314;&#20986;&#26469;&#65292;&#21313;&#20998;&#26377;&#29992;&#65292;&#22810;&#20889;&#20960;&#27425;&#65292;&#24456;&#24555;&#23601;&#21487;&#20197;&#29087;&#24713;&#36825;&#31181;&#35821;&#27861;&#12290;</p>
<p><code>for&#24490;&#29615;</code>&#21518;&#38754;&#36824;&#21487;&#20197;&#21152;&#19978;<code>if&#21028;&#26029;</code>&#65292;&#36825;&#26679;&#25105;&#20204;&#23601;&#21487;&#20197;&#31579;&#36873;&#20986;&#20165;&#20598;&#25968;&#30340;&#24179;&#26041;&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> [x <span class="op">*</span> x <span class="cf">for</span> x <span class="op">in</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">11</span>) <span class="cf">if</span> x <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span>]
[<span class="dv">4</span>, <span class="dv">16</span>, <span class="dv">36</span>, <span class="dv">64</span>, <span class="dv">100</span>]</code></pre></div>
<p>&#36824;&#21487;&#20197;&#20351;&#29992;&#20004;&#23618;&#24490;&#29615;&#65292;&#21487;&#20197;&#29983;&#25104;&#20840;&#25490;&#21015;&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> [m <span class="op">+</span> n <span class="cf">for</span> m <span class="op">in</span> <span class="st">&#39;ABC&#39;</span> <span class="cf">for</span> n <span class="op">in</span> <span class="st">&#39;XYZ&#39;</span>]
[<span class="st">&#39;AX&#39;</span>, <span class="st">&#39;AY&#39;</span>, <span class="st">&#39;AZ&#39;</span>, <span class="st">&#39;BX&#39;</span>, <span class="st">&#39;BY&#39;</span>, <span class="st">&#39;BZ&#39;</span>, <span class="st">&#39;CX&#39;</span>, <span class="st">&#39;CY&#39;</span>, <span class="st">&#39;CZ&#39;</span>]</code></pre></div>
<p>&#19977;&#23618;&#21644;&#19977;&#23618;&#20197;&#19978;&#30340;&#24490;&#29615;&#23601;&#24456;&#23569;&#29992;&#21040;&#20102;&#12290;</p>
<p>&#36816;&#29992;&#21015;&#34920;&#29983;&#25104;&#24335;&#65292;&#21487;&#20197;&#20889;&#20986;&#38750;&#24120;&#31616;&#27905;&#30340;&#20195;&#30721;&#12290;&#20363;&#22914;&#65292;&#21015;&#20986;&#24403;&#21069;&#30446;&#24405;&#19979;&#30340;&#25152;&#26377;&#25991;&#20214;&#21644;&#30446;&#24405;&#21517;&#65292;&#21487;&#20197;&#36890;&#36807;&#19968;&#34892;&#20195;&#30721;&#23454;&#29616;&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> os <span class="co"># &#23548;&#20837;os&#27169;&#22359;&#65292;&#27169;&#22359;&#30340;&#27010;&#24565;&#21518;&#38754;&#35762;&#21040;</span>
<span class="op">&gt;&gt;&gt;</span> [d <span class="cf">for</span> d <span class="op">in</span> os.listdir(<span class="st">&#39;.&#39;</span>)] <span class="co"># os.listdir&#21487;&#20197;&#21015;&#20986;&#25991;&#20214;&#21644;&#30446;&#24405;</span>
[<span class="st">&#39;.emacs.d&#39;</span>, <span class="st">&#39;.ssh&#39;</span>, <span class="st">&#39;.Trash&#39;</span>, <span class="st">&#39;Adlm&#39;</span>, <span class="st">&#39;Applications&#39;</span>, <span class="st">&#39;Desktop&#39;</span>, <span class="st">&#39;Documents&#39;</span>, <span class="st">&#39;Downloads&#39;</span>, <span class="st">&#39;Library&#39;</span>, <span class="st">&#39;Movies&#39;</span>, <span class="st">&#39;Music&#39;</span>, <span class="st">&#39;Pictures&#39;</span>, <span class="st">&#39;Public&#39;</span>, <span class="st">&#39;VirtualBox VMs&#39;</span>, <span class="st">&#39;Workspace&#39;</span>, <span class="st">&#39;XCode&#39;</span>]</code></pre></div>
<p><code>for&#24490;&#29615;</code>&#20854;&#23454;&#21487;&#20197;&#21516;&#26102;&#20351;&#29992;&#20004;&#20010;&#29978;&#33267;&#22810;&#20010;&#21464;&#37327;&#65292;&#27604;&#22914;<code>dict</code>&#30340;<code>items()</code>&#21487;&#20197;&#21516;&#26102;&#36845;&#20195;<code>key</code>&#21644;<code>value</code>&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> d <span class="op">=</span> {<span class="st">&#39;x&#39;</span>: <span class="st">&#39;A&#39;</span>, <span class="st">&#39;y&#39;</span>: <span class="st">&#39;B&#39;</span>, <span class="st">&#39;z&#39;</span>: <span class="st">&#39;C&#39;</span> }
<span class="op">&gt;&gt;&gt;</span> <span class="cf">for</span> k, v <span class="op">in</span> d.items():
...     <span class="bu">print</span>(k, <span class="st">&#39;=&#39;</span>, v)
...
y <span class="op">=</span> B
x <span class="op">=</span> A
z <span class="op">=</span> C</code></pre></div>
<p>&#22240;&#27492;&#65292;&#21015;&#34920;&#29983;&#25104;&#24335;&#20063;&#21487;&#20197;&#20351;&#29992;&#20004;&#20010;&#21464;&#37327;&#26469;&#29983;&#25104;<code>list</code>&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> d <span class="op">=</span> {<span class="st">&#39;x&#39;</span>: <span class="st">&#39;A&#39;</span>, <span class="st">&#39;y&#39;</span>: <span class="st">&#39;B&#39;</span>, <span class="st">&#39;z&#39;</span>: <span class="st">&#39;C&#39;</span> }
<span class="op">&gt;&gt;&gt;</span> [k <span class="op">+</span> <span class="st">&#39;=&#39;</span> <span class="op">+</span> v <span class="cf">for</span> k, v <span class="op">in</span> d.items()]
[<span class="st">&#39;y=B&#39;</span>, <span class="st">&#39;x=A&#39;</span>, <span class="st">&#39;z=C&#39;</span>]</code></pre></div>
<p>&#26368;&#21518;&#25226;&#19968;&#20010;list&#20013;&#25152;&#26377;&#30340;&#23383;&#31526;&#20018;&#21464;&#25104;&#23567;&#20889;&#65306;</p>
<pre class="list"><code>&gt;&gt;&gt; L = [&#39;Hello&#39;, &#39;World&#39;, &#39;IBM&#39;, &#39;Apple&#39;]
&gt;&gt;&gt; [s.lower() for s in L]
[&#39;hello&#39;, &#39;world&#39;, &#39;ibm&#39;, &#39;apple&#39;]</code></pre>
<h4 id="&#32451;&#20064;">&#32451;&#20064;</h4>
<p>&#22914;&#26524;<code>list</code>&#20013;&#26082;&#21253;&#21547;&#23383;&#31526;&#20018;&#65292;&#21448;&#21253;&#21547;&#25972;&#25968;&#65292;&#30001;&#20110;&#38750;&#23383;&#31526;&#20018;&#31867;&#22411;&#27809;&#26377;<code>lower()</code>&#26041;&#27861;&#65292;&#25152;&#20197;&#21015;&#34920;&#29983;&#25104;&#24335;&#20250;&#25253;&#38169;&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> L <span class="op">=</span> [<span class="st">&#39;Hello&#39;</span>, <span class="st">&#39;World&#39;</span>, <span class="dv">18</span>, <span class="st">&#39;Apple&#39;</span>, <span class="va">None</span>]
<span class="op">&gt;&gt;&gt;</span> [s.lower() <span class="cf">for</span> s <span class="op">in</span> L]
Traceback (most recent call last):
  File <span class="st">&quot;&lt;stdin&gt;&quot;</span>, line <span class="dv">1</span>, <span class="op">in</span> <span class="op">&lt;</span>module<span class="op">&gt;</span>
  File <span class="st">&quot;&lt;stdin&gt;&quot;</span>, line <span class="dv">1</span>, <span class="op">in</span> <span class="op">&lt;</span>listcomp<span class="op">&gt;</span>
<span class="pp">AttributeError</span>: <span class="st">&#39;int&#39;</span> <span class="bu">object</span> has no attribute <span class="st">&#39;lower&#39;</span></code></pre></div>
<p>&#20351;&#29992;&#20869;&#24314;&#30340;<code>isinstance</code>&#20989;&#25968;&#21487;&#20197;&#21028;&#26029;&#19968;&#20010;&#21464;&#37327;&#26159;&#19981;&#26159;&#23383;&#31526;&#20018;&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> x <span class="op">=</span> <span class="st">&#39;abc&#39;</span>
<span class="op">&gt;&gt;&gt;</span> y <span class="op">=</span> <span class="dv">123</span>
<span class="op">&gt;&gt;&gt;</span> <span class="bu">isinstance</span>(x, <span class="bu">str</span>)
<span class="va">True</span>
<span class="op">&gt;&gt;&gt;</span> <span class="bu">isinstance</span>(y, <span class="bu">str</span>)
<span class="va">False</span></code></pre></div>
<p>&#35831;&#20462;&#25913;&#21015;&#34920;&#29983;&#25104;&#24335;&#65292;&#36890;&#36807;&#28155;&#21152;<code>if</code>&#35821;&#21477;&#20445;&#35777;&#21015;&#34920;&#29983;&#25104;&#24335;&#33021;&#27491;&#30830;&#22320;&#25191;&#34892;&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="co"># -*- coding: utf-8 -*-</span>

L1 <span class="op">=</span> [<span class="st">&#39;Hello&#39;</span>, <span class="st">&#39;World&#39;</span>, <span class="dv">18</span>, <span class="st">&#39;Apple&#39;</span>, <span class="va">None</span>]
L2 <span class="op">=</span> [s.lower() <span class="cf">for</span> s <span class="op">in</span> L1 <span class="cf">if</span> instance(s, <span class="bu">str</span>)]

<span class="co"># &#26399;&#24453;&#36755;&#20986;: [&#39;hello&#39;, &#39;world&#39;, &#39;apple&#39;]</span>
<span class="bu">print</span>(L2)</code></pre></div>
<h4 id="&#23567;&#32467;-2">&#23567;&#32467;</h4>
<p>&#36816;&#29992;&#21015;&#34920;&#29983;&#25104;&#24335;&#65292;&#21487;&#20197;&#24555;&#36895;&#29983;&#25104;<code>list</code>&#65292;&#21487;&#20197;&#36890;&#36807;&#19968;&#20010;<code>list</code>&#25512;&#23548;&#20986;&#21478;&#19968;&#20010;<code>list</code>&#65292;&#32780;&#20195;&#30721;&#21364;&#21313;&#20998;&#31616;&#27905;&#12290;</p>
<h3 id="&#29983;&#25104;&#22120;">6.4 &#29983;&#25104;&#22120;</h3>
<p>&#36890;&#36807;&#21015;&#34920;&#29983;&#25104;&#24335;&#65292;&#25105;&#20204;&#21487;&#20197;&#30452;&#25509;&#21019;&#24314;&#19968;&#20010;&#21015;&#34920;&#12290;&#20294;&#26159;&#65292;&#21463;&#21040;&#20869;&#23384;&#38480;&#21046;&#65292;&#21015;&#34920;&#23481;&#37327;&#32943;&#23450;&#26159;&#26377;&#38480;&#30340;&#12290;&#32780;&#19988;&#65292;&#21019;&#24314;&#19968;&#20010;&#21253;&#21547;100&#19975;&#20010;&#20803;&#32032;&#30340;&#21015;&#34920;&#65292;&#19981;&#20165;&#21344;&#29992;&#24456;&#22823;&#30340;&#23384;&#20648;&#31354;&#38388;&#65292;&#22914;&#26524;&#25105;&#20204;&#20165;&#20165;&#38656;&#35201;&#35775;&#38382;&#21069;&#38754;&#20960;&#20010;&#20803;&#32032;&#65292;&#37027;&#21518;&#38754;&#32477;&#22823;&#22810;&#25968;&#20803;&#32032;&#21344;&#29992;&#30340;&#31354;&#38388;&#37117;&#30333;&#30333;&#28010;&#36153;&#20102;&#12290;</p>
<p>&#25152;&#20197;&#65292;&#22914;&#26524;&#21015;&#34920;&#20803;&#32032;&#21487;&#20197;&#25353;&#29031;&#26576;&#31181;&#31639;&#27861;&#25512;&#31639;&#20986;&#26469;&#65292;&#37027;&#25105;&#20204;&#26159;&#21542;&#21487;&#20197;&#22312;&#24490;&#29615;&#30340;&#36807;&#31243;&#20013;&#19981;&#26029;&#25512;&#31639;&#20986;&#21518;&#32493;&#30340;&#20803;&#32032;&#21602;&#65311;&#36825;&#26679;&#23601;&#19981;&#24517;&#21019;&#24314;&#23436;&#25972;&#30340;<code>list</code>&#65292;&#20174;&#32780;&#33410;&#30465;&#22823;&#37327;&#30340;&#31354;&#38388;&#12290;&#22312;Python&#20013;&#65292;&#36825;&#31181;&#19968;&#36793;&#24490;&#29615;&#19968;&#36793;&#35745;&#31639;&#30340;&#26426;&#21046;&#65292;&#31216;&#20026;<strong>&#29983;&#25104;&#22120;</strong>&#65306;<code>generator</code>&#12290;</p>
<p>&#35201;&#21019;&#24314;&#19968;&#20010;<code>generator</code>&#65292;&#26377;&#24456;&#22810;&#31181;&#26041;&#27861;&#12290;&#31532;&#19968;&#31181;&#26041;&#27861;&#24456;&#31616;&#21333;&#65292;&#21482;&#35201;&#25226;&#19968;&#20010;&#21015;&#34920;&#29983;&#25104;&#24335;&#30340;<code>[]</code>&#25913;&#25104;<code>()</code>&#65292;&#23601;&#21019;&#24314;&#20102;&#19968;&#20010;<code>generator</code>&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> L <span class="op">=</span> [x <span class="op">*</span> x <span class="cf">for</span> x <span class="op">in</span> <span class="bu">range</span>(<span class="dv">10</span>)]
<span class="op">&gt;&gt;&gt;</span> L
[<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">9</span>, <span class="dv">16</span>, <span class="dv">25</span>, <span class="dv">36</span>, <span class="dv">49</span>, <span class="dv">64</span>, <span class="dv">81</span>]
<span class="op">&gt;&gt;&gt;</span> g <span class="op">=</span> (x <span class="op">*</span> x <span class="cf">for</span> x <span class="op">in</span> <span class="bu">range</span>(<span class="dv">10</span>))
<span class="op">&gt;&gt;&gt;</span> g
<span class="op">&lt;</span>generator <span class="bu">object</span> <span class="op">&lt;</span>genexpr<span class="op">&gt;</span> at <span class="bn">0x1022ef630</span><span class="op">&gt;</span></code></pre></div>
<p>&#21019;&#24314;<code>L</code>&#21644;<code>g</code>&#30340;&#21306;&#21035;&#20165;&#22312;&#20110;&#26368;&#22806;&#23618;&#30340;<code>[]</code>&#21644;<code>()</code>&#65292;<code>L</code>&#26159;&#19968;&#20010;<code>list</code>&#65292;&#32780;<code>g</code>&#26159;&#19968;&#20010;<code>generator</code>&#12290;</p>
<p>&#25105;&#20204;&#21487;&#20197;&#30452;&#25509;&#25171;&#21360;&#20986;<code>list</code>&#30340;&#27599;&#19968;&#20010;&#20803;&#32032;&#65292;&#20294;&#25105;&#20204;&#24590;&#20040;&#25171;&#21360;&#20986;<code>generator</code>&#30340;&#27599;&#19968;&#20010;&#20803;&#32032;&#21602;&#65311;</p>
<p>&#22914;&#26524;&#35201;&#19968;&#20010;&#19968;&#20010;&#25171;&#21360;&#20986;&#26469;&#65292;&#21487;&#20197;&#36890;&#36807;<code>next()</code>&#20989;&#25968;&#33719;&#24471;<code>generator</code>&#30340;&#19979;&#19968;&#20010;&#36820;&#22238;&#20540;&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> <span class="bu">next</span>(g)
<span class="dv">0</span>
<span class="op">&gt;&gt;&gt;</span> <span class="bu">next</span>(g)
<span class="dv">1</span>
<span class="op">&gt;&gt;&gt;</span> <span class="bu">next</span>(g)
<span class="dv">4</span>
<span class="op">&gt;&gt;&gt;</span> <span class="bu">next</span>(g)
<span class="dv">9</span>
<span class="op">&gt;&gt;&gt;</span> <span class="bu">next</span>(g)
<span class="dv">16</span>
<span class="op">&gt;&gt;&gt;</span> <span class="bu">next</span>(g)
<span class="dv">25</span>
<span class="op">&gt;&gt;&gt;</span> <span class="bu">next</span>(g)
<span class="dv">36</span>
<span class="op">&gt;&gt;&gt;</span> <span class="bu">next</span>(g)
<span class="dv">49</span>
<span class="op">&gt;&gt;&gt;</span> <span class="bu">next</span>(g)
<span class="dv">64</span>
<span class="op">&gt;&gt;&gt;</span> <span class="bu">next</span>(g)
<span class="dv">81</span>
<span class="op">&gt;&gt;&gt;</span> <span class="bu">next</span>(g)
Traceback (most recent call last):
  File <span class="st">&quot;&lt;stdin&gt;&quot;</span>, line <span class="dv">1</span>, <span class="op">in</span> <span class="op">&lt;</span>module<span class="op">&gt;</span>
<span class="pp">StopIteration</span></code></pre></div>
<p>&#25105;&#20204;&#35762;&#36807;&#65292;<code>generator</code>&#20445;&#23384;&#30340;&#26159;&#31639;&#27861;&#65292;&#27599;&#27425;&#35843;&#29992;<code>next(g)</code>&#65292;&#23601;&#35745;&#31639;&#20986;<code>g</code>&#30340;&#19979;&#19968;&#20010;&#20803;&#32032;&#30340;&#20540;&#65292;&#30452;&#21040;&#35745;&#31639;&#21040;&#26368;&#21518;&#19968;&#20010;&#20803;&#32032;&#65292;&#27809;&#26377;&#26356;&#22810;&#30340;&#20803;&#32032;&#26102;&#65292;&#25243;&#20986;<code>StopIteration</code>&#30340;&#38169;&#35823;&#12290;</p>
<p>&#24403;&#28982;&#65292;&#19978;&#38754;&#36825;&#31181;&#19981;&#26029;&#35843;&#29992;<code>next(g)</code>&#23454;&#22312;&#26159;&#22826;&#21464;&#24577;&#20102;&#65292;&#27491;&#30830;&#30340;&#26041;&#27861;&#26159;&#20351;&#29992;<code>for&#24490;&#29615;</code>&#65292;&#22240;&#20026;<code>generator</code>&#20063;&#26159;&#21487;&#36845;&#20195;&#23545;&#35937;&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> g <span class="op">=</span> (x <span class="op">*</span> x <span class="cf">for</span> x <span class="op">in</span> <span class="bu">range</span>(<span class="dv">10</span>))
<span class="op">&gt;&gt;&gt;</span> <span class="cf">for</span> n <span class="op">in</span> g:
...     <span class="bu">print</span>(n)
... 
<span class="dv">0</span>
<span class="dv">1</span>
<span class="dv">4</span>
<span class="dv">9</span>
<span class="dv">16</span>
<span class="dv">25</span>
<span class="dv">36</span>
<span class="dv">49</span>
<span class="dv">64</span>
<span class="dv">81</span></code></pre></div>
<p>&#25152;&#20197;&#65292;&#25105;&#20204;&#21019;&#24314;&#20102;&#19968;&#20010;<code>generator</code>&#21518;&#65292;&#22522;&#26412;&#19978;&#27704;&#36828;&#19981;&#20250;&#35843;&#29992;<code>next()</code>&#65292;&#32780;&#26159;&#36890;&#36807;<code>for&#24490;&#29615;</code>&#26469;&#36845;&#20195;&#23427;&#65292;&#24182;&#19988;&#19981;&#38656;&#35201;&#20851;&#24515;<code>StopIteration</code>&#30340;&#38169;&#35823;&#12290;</p>
<p><code>generator</code>&#38750;&#24120;&#24378;&#22823;&#12290;&#22914;&#26524;&#25512;&#31639;&#30340;&#31639;&#27861;&#27604;&#36739;&#22797;&#26434;&#65292;&#29992;&#31867;&#20284;&#21015;&#34920;&#29983;&#25104;&#24335;&#30340;<code>for&#24490;&#29615;</code>&#26080;&#27861;&#23454;&#29616;&#30340;&#26102;&#20505;&#65292;&#36824;&#21487;&#20197;&#29992;&#20989;&#25968;&#26469;&#23454;&#29616;&#12290;</p>
<p>&#27604;&#22914;&#65292;&#33879;&#21517;&#30340;&#26000;&#27874;&#25289;&#22865;&#25968;&#21015;&#65288;Fibonacci&#65289;&#65292;&#38500;&#31532;&#19968;&#20010;&#21644;&#31532;&#20108;&#20010;&#25968;&#22806;&#65292;&#20219;&#24847;&#19968;&#20010;&#25968;&#37117;&#21487;&#30001;&#21069;&#20004;&#20010;&#25968;&#30456;&#21152;&#24471;&#21040;&#65306;</p>
<p><code>1, 1, 2, 3, 5, 8, 13, 21, 34, ...</code></p>
<p>&#26000;&#27874;&#25289;&#22865;&#25968;&#21015;&#29992;&#21015;&#34920;&#29983;&#25104;&#24335;&#20889;&#19981;&#20986;&#26469;&#65292;&#20294;&#26159;&#65292;&#29992;&#20989;&#25968;&#25226;&#23427;&#25171;&#21360;&#20986;&#26469;&#21364;&#24456;&#23481;&#26131;&#65306;</p>
<pre><code>def fib(max):
    n, a, b = 0, 0, 1
    while n &lt; max:
        print(b)
        a, b = b, a + b
        n = n + 1
    return &#39;done&#39;</code></pre>
<p>&#19978;&#38754;&#30340;&#20989;&#25968;&#21487;&#20197;&#36755;&#20986;&#26000;&#27874;&#37027;&#22865;&#25968;&#21015;&#30340;&#21069;N&#20010;&#25968;&#65306;</p>
<pre><code>&gt;&gt;&gt; fib(6)
1
1
2
3
5
8
&#39;done&#39;</code></pre>
<p>&#20180;&#32454;&#35266;&#23519;&#65292;&#21487;&#20197;&#30475;&#20986;&#65292;fib&#20989;&#25968;&#23454;&#38469;&#19978;&#26159;&#23450;&#20041;&#20102;&#26000;&#27874;&#25289;&#22865;&#25968;&#21015;&#30340;&#25512;&#31639;&#35268;&#21017;&#65292;&#21487;&#20197;&#20174;&#31532;&#19968;&#20010;&#20803;&#32032;&#24320;&#22987;&#65292;&#25512;&#31639;&#20986;&#21518;&#32493;&#20219;&#24847;&#30340;&#20803;&#32032;&#65292;&#36825;&#31181;&#36923;&#36753;&#20854;&#23454;&#38750;&#24120;&#31867;&#20284;<code>generator</code>&#12290;</p>
<p>&#20063;&#23601;&#26159;&#35828;&#65292;&#19978;&#38754;&#30340;&#20989;&#25968;&#21644;<code>generator</code>&#20165;&#19968;&#27493;&#20043;&#36965;&#12290;&#35201;&#25226;<code>fib&#20989;&#25968;</code>&#21464;&#25104;<code>generator</code>&#65292;&#21482;&#38656;&#35201;&#25226;<code>print(b)</code>&#25913;&#20026;<code>yield b</code>&#23601;&#21487;&#20197;&#20102;&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="kw">def</span> fib(<span class="bu">max</span>):
    n, a, b <span class="op">=</span> <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>
    <span class="cf">while</span> n <span class="op">&lt;</span> <span class="bu">max</span>:
        <span class="cf">yield</span> b
        a, b <span class="op">=</span> b, a <span class="op">+</span> b
        n <span class="op">=</span> n <span class="op">+</span> <span class="dv">1</span>
    <span class="cf">return</span> <span class="st">&#39;done&#39;</span></code></pre></div>
<p>&#36825;&#23601;&#26159;&#23450;&#20041;<code>generator</code>&#30340;&#21478;&#19968;&#31181;&#26041;&#27861;&#12290;&#22914;&#26524;&#19968;&#20010;&#20989;&#25968;&#23450;&#20041;&#20013;&#21253;&#21547;<code>yield&#20851;&#38190;&#23383;</code>&#65292;&#37027;&#20040;&#36825;&#20010;&#20989;&#25968;&#23601;&#19981;&#20877;&#26159;&#19968;&#20010;&#26222;&#36890;&#20989;&#25968;&#65292;&#32780;&#26159;&#19968;&#20010;<code>generator</code>&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> f <span class="op">=</span> fib(<span class="dv">6</span>)
<span class="op">&gt;&gt;&gt;</span> f
<span class="op">&lt;</span>generator <span class="bu">object</span> fib at <span class="bn">0x104feaaa0</span><span class="op">&gt;</span></code></pre></div>
<p>&#36825;&#37324;&#65292;&#26368;&#38590;&#29702;&#35299;&#30340;&#23601;&#26159;<code>generator</code>&#21644;&#20989;&#25968;&#30340;&#25191;&#34892;&#27969;&#31243;&#19981;&#19968;&#26679;&#12290;&#20989;&#25968;&#26159;&#39034;&#24207;&#25191;&#34892;&#65292;&#36935;&#21040;return&#35821;&#21477;&#25110;&#32773;&#26368;&#21518;&#19968;&#34892;&#20989;&#25968;&#35821;&#21477;&#23601;&#36820;&#22238;&#12290;&#32780;&#21464;&#25104;<code>generator</code>&#30340;&#20989;&#25968;&#65292;&#22312;&#27599;&#27425;&#35843;&#29992;<code>next()</code>&#30340;&#26102;&#20505;&#25191;&#34892;&#65292;&#36935;&#21040;<code>yield&#35821;&#21477;</code>&#36820;&#22238;&#65292;&#20877;&#27425;&#25191;&#34892;&#26102;&#20174;&#19978;&#27425;&#36820;&#22238;&#30340;yield&#35821;&#21477;&#22788;&#32487;&#32493;&#25191;&#34892;&#12290;</p>
<p>&#20030;&#20010;&#31616;&#21333;&#30340;&#20363;&#23376;&#65292;&#23450;&#20041;&#19968;&#20010;<code>generator</code>&#65292;&#20381;&#27425;&#36820;&#22238;&#25968;&#23383;<code>1&#65292;3&#65292;5</code>&#65306;</p>
<p>def odd(): print('step 1') yield 1 print('step 2') yield(3) print('step 3') yield(5)</p>
<p>&#35843;&#29992;&#35813;generator&#26102;&#65292;&#39318;&#20808;&#35201;&#29983;&#25104;&#19968;&#20010;generator&#23545;&#35937;&#65292;&#28982;&#21518;&#29992;next()&#20989;&#25968;&#19981;&#26029;&#33719;&#24471;&#19979;&#19968;&#20010;&#36820;&#22238;&#20540;&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> o <span class="op">=</span> odd()
<span class="op">&gt;&gt;&gt;</span> <span class="bu">next</span>(o)
step <span class="dv">1</span>
<span class="dv">1</span>
<span class="op">&gt;&gt;&gt;</span> <span class="bu">next</span>(o)
step <span class="dv">2</span>
<span class="dv">3</span>
<span class="op">&gt;&gt;&gt;</span> <span class="bu">next</span>(o)
step <span class="dv">3</span>
<span class="dv">5</span>
<span class="op">&gt;&gt;&gt;</span> <span class="bu">next</span>(o)
Traceback (most recent call last):
  File <span class="st">&quot;&lt;stdin&gt;&quot;</span>, line <span class="dv">1</span>, <span class="op">in</span> <span class="op">&lt;</span>module<span class="op">&gt;</span>
<span class="pp">StopIteration</span></code></pre></div>
<p>&#21487;&#20197;&#30475;&#21040;&#65292;<code>odd</code>&#19981;&#26159;&#26222;&#36890;&#20989;&#25968;&#65292;&#32780;&#26159;<code>generator</code>&#65292;&#22312;&#25191;&#34892;&#36807;&#31243;&#20013;&#65292;&#36935;&#21040;<code>yield</code>&#23601;&#20013;&#26029;&#65292;&#19979;&#27425;&#21448;&#32487;&#32493;&#25191;&#34892;&#12290;&#25191;&#34892;3&#27425;<code>yield</code>&#21518;&#65292;&#24050;&#32463;&#27809;&#26377;<code>yield</code>&#21487;&#20197;&#25191;&#34892;&#20102;&#65292;&#25152;&#20197;&#65292;&#31532;4&#27425;&#35843;&#29992;<code>next(o)</code>&#23601;&#25253;&#38169;&#12290;</p>
<p>&#22238;&#21040;<code>fib</code>&#30340;&#20363;&#23376;&#65292;&#25105;&#20204;&#22312;&#24490;&#29615;&#36807;&#31243;&#20013;&#19981;&#26029;&#35843;&#29992;<code>yield</code>&#65292;&#23601;&#20250;&#19981;&#26029;&#20013;&#26029;&#12290;&#24403;&#28982;&#35201;&#32473;&#24490;&#29615;&#35774;&#32622;&#19968;&#20010;&#26465;&#20214;&#26469;&#36864;&#20986;&#24490;&#29615;&#65292;&#19981;&#28982;&#23601;&#20250;&#20135;&#29983;&#19968;&#20010;&#26080;&#38480;&#25968;&#21015;&#20986;&#26469;&#12290;</p>
<p>&#21516;&#26679;&#30340;&#65292;&#25226;&#20989;&#25968;&#25913;&#25104;<code>generator</code>&#21518;&#65292;&#25105;&#20204;&#22522;&#26412;&#19978;&#20174;&#26469;&#19981;&#20250;&#29992;<code>next()</code>&#26469;&#33719;&#21462;&#19979;&#19968;&#20010;&#36820;&#22238;&#20540;&#65292;&#32780;&#26159;&#30452;&#25509;&#20351;&#29992;<code>for&#24490;&#29615;</code>&#26469;&#36845;&#20195;&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> <span class="cf">for</span> n <span class="op">in</span> fib(<span class="dv">6</span>):
...     <span class="bu">print</span>(n)
...
<span class="dv">1</span>
<span class="dv">1</span>
<span class="dv">2</span>
<span class="dv">3</span>
<span class="dv">5</span>
<span class="dv">8</span></code></pre></div>
<p>&#20294;&#26159;&#29992;<code>for&#24490;&#29615;</code>&#35843;&#29992;<code>generator</code>&#26102;&#65292;&#21457;&#29616;&#25343;&#19981;&#21040;<code>generator</code>&#30340;<code>return</code>&#35821;&#21477;&#30340;&#36820;&#22238;&#20540;&#12290;&#22914;&#26524;&#24819;&#35201;&#25343;&#21040;&#36820;&#22238;&#20540;&#65292;&#24517;&#39035;&#25429;&#33719;<code>StopIteration</code>&#38169;&#35823;&#65292;&#36820;&#22238;&#20540;&#21253;&#21547;&#22312;<code>StopIteration</code>&#30340;<code>value</code>&#20013;&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> g <span class="op">=</span> fib(<span class="dv">6</span>)
<span class="op">&gt;&gt;&gt;</span> <span class="cf">while</span> <span class="va">True</span>:
...     <span class="cf">try</span>:
...         x <span class="op">=</span> <span class="bu">next</span>(g)
...         <span class="bu">print</span>(<span class="st">&#39;g:&#39;</span>, x)
...     <span class="cf">except</span> <span class="pp">StopIteration</span> <span class="im">as</span> e:
...         <span class="bu">print</span>(<span class="st">&#39;Generator return value:&#39;</span>, e.value)
...         <span class="cf">break</span>
...
g: <span class="dv">1</span>
g: <span class="dv">1</span>
g: <span class="dv">2</span>
g: <span class="dv">3</span>
g: <span class="dv">5</span>
g: <span class="dv">8</span>
Generator <span class="cf">return</span> value: done</code></pre></div>
<p>&#20851;&#20110;&#22914;&#20309;&#25429;&#33719;&#38169;&#35823;&#65292;&#21518;&#38754;&#30340;&#38169;&#35823;&#22788;&#29702;&#36824;&#20250;&#35814;&#32454;&#35762;&#35299;&#12290;</p>
<h4 id="&#32451;&#20064;-1">&#32451;&#20064;</h4>
<p>&#26472;&#36745;&#19977;&#35282;&#23450;&#20041;&#22914;&#19979;&#65306;</p>
<pre><code>          1
        1   1
      1   2   1
    1   3   3   1
  1   4   6   4   1
1   5   10  10  5   1</code></pre>
<p>&#25226;&#27599;&#19968;&#34892;&#30475;&#20570;&#19968;&#20010;<code>list</code>&#65292;&#35797;&#20889;&#19968;&#20010;<code>generator</code>&#65292;&#19981;&#26029;&#36755;&#20986;&#19979;&#19968;&#34892;&#30340;<code>list</code>&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="co"># -*- coding: utf-8 -*-</span>

<span class="kw">def</span> triangles():
      a <span class="op">=</span> [<span class="dv">1</span>]
    <span class="cf">while</span> <span class="va">True</span>:
        <span class="cf">yield</span> a
        a <span class="op">=</span> [<span class="bu">sum</span>(i) <span class="cf">for</span> i <span class="op">in</span> <span class="bu">zip</span>([<span class="dv">0</span>] <span class="op">+</span> a, a <span class="op">+</span> [<span class="dv">0</span>])]
    

<span class="co"># &#26399;&#24453;&#36755;&#20986;:</span>
<span class="co"># [1]</span>
<span class="co"># [1, 1]</span>
<span class="co"># [1, 2, 1]</span>
<span class="co"># [1, 3, 3, 1]</span>
<span class="co"># [1, 4, 6, 4, 1]</span>
<span class="co"># [1, 5, 10, 10, 5, 1]</span>
<span class="co"># [1, 6, 15, 20, 15, 6, 1]</span>
<span class="co"># [1, 7, 21, 35, 35, 21, 7, 1]</span>
<span class="co"># [1, 8, 28, 56, 70, 56, 28, 8, 1]</span>
<span class="co"># [1, 9, 36, 84, 126, 126, 84, 36, 9, 1]</span>
n <span class="op">=</span> <span class="dv">0</span>
<span class="cf">for</span> t <span class="op">in</span> triangles():
    <span class="bu">print</span>(t)
    n <span class="op">=</span> n <span class="op">+</span> <span class="dv">1</span>
    <span class="cf">if</span> n <span class="op">==</span> <span class="dv">10</span>:
        <span class="cf">break</span></code></pre></div>
<h4 id="&#23567;&#32467;-3">&#23567;&#32467;</h4>
<p><code>generator</code>&#26159;&#38750;&#24120;&#24378;&#22823;&#30340;&#24037;&#20855;&#65292;&#22312;Python&#20013;&#65292;&#21487;&#20197;&#31616;&#21333;&#22320;&#25226;&#21015;&#34920;&#29983;&#25104;&#24335;&#25913;&#25104;<code>generator</code>&#65292;&#20063;&#21487;&#20197;&#36890;&#36807;&#20989;&#25968;&#23454;&#29616;&#22797;&#26434;&#36923;&#36753;&#30340;<code>generator</code>&#12290;</p>
<p>&#35201;&#29702;&#35299;<code>generator</code>&#30340;&#24037;&#20316;&#21407;&#29702;&#65292;&#23427;&#26159;&#22312;<code>for&#24490;&#29615;</code>&#30340;&#36807;&#31243;&#20013;&#19981;&#26029;&#35745;&#31639;&#20986;&#19979;&#19968;&#20010;&#20803;&#32032;&#65292;&#24182;&#22312;&#36866;&#24403;&#30340;&#26465;&#20214;&#32467;&#26463;<code>for&#24490;&#29615;</code>&#12290;&#23545;&#20110;&#20989;&#25968;&#25913;&#25104;&#30340;<code>generator</code>&#26469;&#35828;&#65292;&#36935;&#21040;<code>return</code>&#35821;&#21477;&#25110;&#32773;&#25191;&#34892;&#21040;&#20989;&#25968;&#20307;&#26368;&#21518;&#19968;&#34892;&#35821;&#21477;&#65292;&#23601;&#26159;&#32467;&#26463;<code>generator</code>&#30340;&#25351;&#20196;&#65292;<code>for&#24490;&#29615;</code>&#38543;&#20043;&#32467;&#26463;&#12290;</p>
<p>&#35831;&#27880;&#24847;&#21306;&#20998;&#26222;&#36890;&#20989;&#25968;&#21644;<code>generator</code>&#20989;&#25968;&#65292;&#26222;&#36890;&#20989;&#25968;&#35843;&#29992;&#30452;&#25509;&#36820;&#22238;&#32467;&#26524;&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> r <span class="op">=</span> <span class="bu">abs</span>(<span class="dv">6</span>)
<span class="op">&gt;&gt;&gt;</span> r
<span class="dv">6</span></code></pre></div>
<p><code>generator</code>&#20989;&#25968;&#30340;&#8220;&#35843;&#29992;&#8221;&#23454;&#38469;&#36820;&#22238;&#19968;&#20010;<code>generator&#23545;&#35937;</code>&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> g <span class="op">=</span> fib(<span class="dv">6</span>)
<span class="op">&gt;&gt;&gt;</span> g
<span class="op">&lt;</span>generator <span class="bu">object</span> fib at <span class="bn">0x1022ef948</span><span class="op">&gt;</span></code></pre></div>
<h3 id="&#36845;&#20195;&#22120;">6.5 &#36845;&#20195;&#22120;</h3>
<p>&#25105;&#20204;&#24050;&#32463;&#30693;&#36947;&#65292;&#21487;&#20197;&#30452;&#25509;&#20316;&#29992;&#20110;<code>for&#24490;&#29615;</code>&#30340;&#25968;&#25454;&#31867;&#22411;&#26377;&#20197;&#19979;&#20960;&#31181;&#65306;</p>
<ul>
<li><p>&#19968;&#31867;&#26159;&#38598;&#21512;&#25968;&#25454;&#31867;&#22411;&#65292;&#22914;<code>list</code>&#12289;<code>tuple</code>&#12289;<code>dict</code>&#12289;<code>set</code>&#12289;<code>str</code>&#31561;&#65307;</p></li>
<li><p>&#19968;&#31867;&#26159;<code>generator</code>&#65292;&#21253;&#25324;&#29983;&#25104;&#22120;&#21644;&#24102;<code>yield</code>&#30340;<code>generator function</code>&#12290;</p></li>
</ul>
<p>&#36825;&#20123;&#21487;&#20197;&#30452;&#25509;&#20316;&#29992;&#20110;<code>for&#24490;&#29615;</code>&#30340;&#23545;&#35937;&#32479;&#31216;&#20026;<strong>&#21487;&#36845;&#20195;&#23545;&#35937;</strong>&#65306;<code>Iterable</code>&#12290;</p>
<p>&#21487;&#20197;&#20351;&#29992;<code>isinstance()</code>&#21028;&#26029;&#19968;&#20010;&#23545;&#35937;&#26159;&#21542;&#26159;<code>Iterable&#23545;&#35937;</code>&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> <span class="im">from</span> collections <span class="im">import</span> Iterable
<span class="op">&gt;&gt;&gt;</span> <span class="bu">isinstance</span>([], Iterable)
<span class="va">True</span>
<span class="op">&gt;&gt;&gt;</span> <span class="bu">isinstance</span>({}, Iterable)
<span class="va">True</span>
<span class="op">&gt;&gt;&gt;</span> <span class="bu">isinstance</span>(<span class="st">&#39;abc&#39;</span>, Iterable)
<span class="va">True</span>
<span class="op">&gt;&gt;&gt;</span> <span class="bu">isinstance</span>((x <span class="cf">for</span> x <span class="op">in</span> <span class="bu">range</span>(<span class="dv">10</span>)), Iterable)
<span class="va">True</span>
<span class="op">&gt;&gt;&gt;</span> <span class="bu">isinstance</span>(<span class="dv">100</span>, Iterable)
<span class="va">False</span></code></pre></div>
<p>&#32780;&#29983;&#25104;&#22120;&#19981;&#20294;&#21487;&#20197;&#20316;&#29992;&#20110;<code>for&#24490;&#29615;</code>&#65292;&#36824;&#21487;&#20197;&#34987;<code>next()</code>&#20989;&#25968;&#19981;&#26029;&#35843;&#29992;&#24182;&#36820;&#22238;&#19979;&#19968;&#20010;&#20540;&#65292;&#30452;&#21040;&#26368;&#21518;&#25243;&#20986;<code>StopIteration</code>&#38169;&#35823;&#34920;&#31034;&#26080;&#27861;&#32487;&#32493;&#36820;&#22238;&#19979;&#19968;&#20010;&#20540;&#20102;&#12290;</p>
<p>&#21487;&#20197;&#34987;<code>next()</code>&#20989;&#25968;&#35843;&#29992;&#24182;&#19981;&#26029;&#36820;&#22238;&#19979;&#19968;&#20010;&#20540;&#30340;&#23545;&#35937;&#31216;&#20026;<strong>&#36845;&#20195;&#22120;</strong>&#65306;<code>Iterator</code>&#12290;</p>
<p>&#21487;&#20197;&#20351;&#29992;<code>isinstance()</code>&#21028;&#26029;&#19968;&#20010;&#23545;&#35937;&#26159;&#21542;&#26159;<code>Iterator&#23545;&#35937;</code>&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> <span class="im">from</span> collections <span class="im">import</span> Iterator
<span class="op">&gt;&gt;&gt;</span> <span class="bu">isinstance</span>((x <span class="cf">for</span> x <span class="op">in</span> <span class="bu">range</span>(<span class="dv">10</span>)), Iterator)
<span class="va">True</span>
<span class="op">&gt;&gt;&gt;</span> <span class="bu">isinstance</span>([], Iterator)
<span class="va">False</span>
<span class="op">&gt;&gt;&gt;</span> <span class="bu">isinstance</span>({}, Iterator)
<span class="va">False</span>
<span class="op">&gt;&gt;&gt;</span> <span class="bu">isinstance</span>(<span class="st">&#39;abc&#39;</span>, Iterator)
<span class="va">False</span></code></pre></div>
<p>&#29983;&#25104;&#22120;&#37117;&#26159;<code>Iterator&#23545;&#35937;</code>&#65292;&#20294;<code>list</code>&#12289;<code>dict</code>&#12289;<code>str</code>&#34429;&#28982;&#26159;<code>Iterable</code>&#65292;&#21364;&#19981;&#26159;<code>Iterator</code>&#12290;</p>
<p>&#25226;<code>list</code>&#12289;<code>dict</code>&#12289;<code>str</code>&#31561;<code>Iterable</code>&#21464;&#25104;<code>Iterator</code>&#21487;&#20197;&#20351;&#29992;<code>iter()</code>&#20989;&#25968;&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> <span class="bu">isinstance</span>(<span class="bu">iter</span>([]), Iterator)
<span class="va">True</span>
<span class="op">&gt;&gt;&gt;</span> <span class="bu">isinstance</span>(<span class="bu">iter</span>(<span class="st">&#39;abc&#39;</span>), Iterator)
<span class="va">True</span></code></pre></div>
<p>&#20320;&#21487;&#33021;&#20250;&#38382;&#65292;&#20026;&#20160;&#20040;<code>list</code>&#12289;<code>dict</code>&#12289;<code>str</code>&#31561;&#25968;&#25454;&#31867;&#22411;&#19981;&#26159;<code>Iterator</code>&#65311;</p>
<p>&#36825;&#26159;&#22240;&#20026;Python&#30340;<code>Iterator</code>&#23545;&#35937;&#34920;&#31034;&#30340;&#26159;&#19968;&#20010;&#25968;&#25454;&#27969;&#65292;<code>Iterator</code>&#23545;&#35937;&#21487;&#20197;&#34987;<code>next()</code>&#20989;&#25968;&#35843;&#29992;&#24182;&#19981;&#26029;&#36820;&#22238;&#19979;&#19968;&#20010;&#25968;&#25454;&#65292;&#30452;&#21040;&#27809;&#26377;&#25968;&#25454;&#26102;&#25243;&#20986;<code>StopIteration</code>&#38169;&#35823;&#12290;&#21487;&#20197;&#25226;&#36825;&#20010;&#25968;&#25454;&#27969;&#30475;&#20570;&#26159;&#19968;&#20010;&#26377;&#24207;&#24207;&#21015;&#65292;&#20294;&#25105;&#20204;&#21364;&#19981;&#33021;&#25552;&#21069;&#30693;&#36947;&#24207;&#21015;&#30340;&#38271;&#24230;&#65292;&#21482;&#33021;&#19981;&#26029;&#36890;&#36807;<code>next()</code>&#20989;&#25968;&#23454;&#29616;&#25353;&#38656;&#35745;&#31639;&#19979;&#19968;&#20010;&#25968;&#25454;&#65292;&#25152;&#20197;<code>Iterator</code>&#30340;&#35745;&#31639;&#26159;&#24816;&#24615;&#30340;&#65292;&#21482;&#26377;&#22312;&#38656;&#35201;&#36820;&#22238;&#19979;&#19968;&#20010;&#25968;&#25454;&#26102;&#23427;&#25165;&#20250;&#35745;&#31639;&#12290;</p>
<p><code>Iterator</code>&#29978;&#33267;&#21487;&#20197;&#34920;&#31034;&#19968;&#20010;&#26080;&#38480;&#22823;&#30340;&#25968;&#25454;&#27969;&#65292;&#20363;&#22914;&#20840;&#20307;&#33258;&#28982;&#25968;&#12290;&#32780;&#20351;&#29992;<code>list</code>&#26159;&#27704;&#36828;&#19981;&#21487;&#33021;&#23384;&#20648;&#20840;&#20307;&#33258;&#28982;&#25968;&#30340;&#12290;</p>
<h4 id="&#23567;&#32467;-4">&#23567;&#32467;</h4>
<p>&#20961;&#26159;&#21487;&#20316;&#29992;&#20110;<code>for&#24490;&#29615;</code>&#30340;&#23545;&#35937;&#37117;&#26159;<code>Iterable</code>&#31867;&#22411;&#65307;</p>
<p>&#20961;&#26159;&#21487;&#20316;&#29992;&#20110;<code>next()</code>&#20989;&#25968;&#30340;&#23545;&#35937;&#37117;&#26159;<code>Iterator</code>&#31867;&#22411;&#65292;&#23427;&#20204;&#34920;&#31034;&#19968;&#20010;&#24816;&#24615;&#35745;&#31639;&#30340;&#24207;&#21015;&#65307;</p>
<p>&#38598;&#21512;&#25968;&#25454;&#31867;&#22411;&#22914;<code>list</code>&#12289;<code>dict</code>&#12289;<code>str</code>&#31561;&#26159;<code>Iterable</code>&#20294;&#19981;&#26159;<code>Iterator</code>&#65292;&#19981;&#36807;&#21487;&#20197;&#36890;&#36807;<code>iter()</code>&#20989;&#25968;&#33719;&#24471;&#19968;&#20010;<code>Iterator</code>&#23545;&#35937;&#12290;</p>
<p>Python&#30340;<code>for&#24490;&#29615;</code>&#26412;&#36136;&#19978;&#23601;&#26159;&#36890;&#36807;&#19981;&#26029;&#35843;&#29992;<code>next()</code>&#20989;&#25968;&#23454;&#29616;&#30340;&#65292;&#20363;&#22914;&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="cf">for</span> x <span class="op">in</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>]:
    <span class="cf">pass</span></code></pre></div>
<p>&#23454;&#38469;&#19978;&#23436;&#20840;&#31561;&#20215;&#20110;&#65306;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="co"># &#39318;&#20808;&#33719;&#24471;Iterator&#23545;&#35937;:</span>
it <span class="op">=</span> <span class="bu">iter</span>([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>])
<span class="co"># &#24490;&#29615;:</span>
<span class="cf">while</span> <span class="va">True</span>:
    <span class="cf">try</span>:
        <span class="co"># &#33719;&#24471;&#19979;&#19968;&#20010;&#20540;:</span>
        x <span class="op">=</span> <span class="bu">next</span>(it)
    <span class="cf">except</span> <span class="pp">StopIteration</span>:
        <span class="co"># &#36935;&#21040;StopIteration&#23601;&#36864;&#20986;&#24490;&#29615;</span>
        <span class="cf">break</span></code></pre></div>
</body>
</html>
