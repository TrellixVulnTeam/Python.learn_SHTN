<!doctype html public '-//W3C//DTD HTML 4.0 Transitional //EN'>
<html>
<head>
<title>04.controflow</title>
<meta charset='UTF-8' />
<meta name='generator' content='EverEdit' />
<link href='D:\Program Files\EverEdit\mode\markdown\default.css' rel='stylesheet'></link>
<link href='D:\Program Files\EverEdit\mode\markdown\prettify.css' rel='stylesheet'></link>
<script type='text/javascript' src='D:\Program Files\EverEdit\mode\markdown\prettify.js'></script>
<script type='text/javascript' src='D:\Program Files\EverEdit\mode\markdown\jquery-1.10.2.min.js'></script>
<script type='text/javascript' src='D:\Program Files\EverEdit\mode\markdown\toc.js'></script>
</head>
<body>
<div id='generated-toc'></div>
<h2>4. 控制流</h2>

<p>除了，前面的<code>while</code>语句外，Python也有其他常见的流程控制语句，但是稍有不同。</p>

<h3>4.1 if语句</h3>

<p>也许最知名的语句是<code>if</code>语句。例如：</p>

<pre><code>&gt;&gt;&gt; x = int (input("Please enter an integer: "))
Please enter an integer: 42
&gt;&gt;&gt; if x &lt; 0:
...         x=0
...         print ('Negative changed to zero')
... elif x==0:
...         print('Zero')
... elif x==1:
...         print('Single')
... else:
...     print('More')
...
More</code></pre>

<p>if语句可以有零个或多个elif部分，且else部分也是可选的。</p>

<h3>4.2 for语句</h3>

<p>Python的<code>for</code>语句按照元素出现的顺序迭代任何序列(列表或字符串),例如：</p>

<pre><code>&gt;&gt;&gt; # Measure some strings:
... words = ['cat','window','defenestrate']
&gt;&gt;&gt; for w in words:
...         print (w, len(w))
...
cat 3
window 6
defenestrate 12</code></pre>

<h6>#</h6>

<p>如要在循环内修改正在迭代的序列（如复制所选项目），建议首先制作副本。迭代序列不会隐式的创建副本。使用切片就可以很容易的做到：</p>

<pre><code>&gt;&gt;&gt; for w in words[:]: # Loop over a slice copy of the entire list.
...         if len(w) &gt; 6:
...                 words.insert(0,w)
...
&gt;&gt;&gt; words
['defenestrate','cat','window','defenestrate']</code></pre>

<h3>4.3 range()函数</h3>

<p>如需遍历一个数字序列，内置函数<code>range()</code>可供使用，如生成等差数列：</p>

<pre><code>&gt;&gt;&gt; for i in range(5):
...         print(i)
...
1
2
3
4</code></pre>

<blockquote>
  <p>range()中给定的终点不包括。该函数可有1-3个参数，一个参数<code>range(n)</code>是表示0 ~ n-1,两个参数<code>range(m,n)</code>是表示m ~ n-1,三个参数<code>range(m,n,i)</code>是表示m,m+i,m+2i,&#8230;.(<n) </p>
</blockquote>

<p>若要依据索引迭代序列，你可以结合使用range () 和len() ，如下所示：</p>

<pre><code>&gt;&gt;&gt; a = ['Mary','had','a','little','lamb']
&gt;&gt;&gt; for i in range(len (a)):
...         print (i, a[i])
...
0 Mary
1 had
2 a
3 little
4 lamb</code></pre>

<blockquote>
  <p>其实，这种情况下，大多时候使用函数<code>enumerate()</code>更加方便。</p>
</blockquote>

<p>若只打印range，结果会很诡异：<code>print range(10)</code>得到<code>range(0,10)</code>.range()返回的对象的行为在很多方面很像一个列表，但实际上它并不是列表。当你迭代它的时候它会依次返回期望序列的元素，但是它不会真正产生一个列表，因此可以节省空间。</p>

<h3>4.4 break和continue语句以及循环中的else字句</h3>

<p><code>break</code>语句与C语言中类似，用于跳出最近的for或while循环。</p>

<p>循环语句也可以有一个<code>else</code>字句：当for循环迭代完整个列表或while循环条件变为false，而非由break语句终止时，它会执行。下面循环搜索质数的代码示例了这一点：</p>

<pre><code>&gt;&gt;&gt; for n in range(2,10):
...         for x in range(2,n):
...                 if n%x ==0:
...                         print(n, 'equals', x, '*',n//x)
...                         break
...         else:
...                 # loop fell through without finding a factor
...                 print(n, 'is a prime number')
...
2 is a prime number
3 is a prime number
4 equals 2*2
5 is a prime number
...</code></pre>

<blockquote>
  <p>注：看仔细，else字句属于for循环，而*<em>不属于</em>*if语句。</p>
</blockquote>

<p>当使用一个循环时，else子句中更加普遍的是else字句的try语句，而非if语句：<code>try</code>语句的else子句在没有任何异常发生时运行，而循环的else子句则在没有break发生时运行。</p>

<p><code>continue</code>语句也是从C语言借来的，表示继续下一次迭代：</p>

<pre><code>&gt;&gt;&gt; for num in range(2,10):
...         if num % 2 == 0:
...                 print ("Found an even number",num)
...                 continue
...         print("Found a number",num)</code></pre>

<h3>4.5 pass语句</h3>

<p><code>pass</code>语句什么也不做，用于语法上必须有一条语句，但程序上什么也不需要做的场合。</p>

<pre><code>&gt;&gt;&gt; while True:
...     pass # Busy-wait for keyboard interrupt (Ctrl-C)
...</code></pre>

<p><code>pass</code>语句还用于创建最小的类：</p>

<pre><code>&gt;&gt;&gt; class MyEmptyClass:
                pass
</code></pre>

<p>另一个使用<code>pass</code>语句的地方就是编码新代码时作为函数体或控制体的占位符，这让你在更抽象层次上思考：</p>

<pre><code>&gt;&gt;&gt; def initlog(*args):
                pass # Remember to implement this!</code></pre>

<h3>4.6 定义函数</h3>

<p>例如，我们可以创建一个生成任意上界的斐波那契数列的函数：</p>

<pre><code>def fib(n):     # write Fibonacci series up to n
        """ print a Fibonacci series up to n
        a, b = 0, 1
        while a &lt; n:
                print (a,end=' ')
                a, b = b, a+b
        print()

        # Now call th function we just defined:
        fib(2000)

0 1 1 2 3 5 8 13 21 34 55 89 144 377 610 987 1597</code></pre>

<p>由此可见，函数由关键字<code>def</code>定义，其后必须跟有函数名和以括号表明的形式参数列表，组成函数体的语句从下一行开始，且必须缩进。</p>

<p>函数体的第一行可以是一个可选的字符串文本；此字符串是该函数的文档</p>
<script type='text/javascript'>
$(document).ready(function(){
  if($('code').length>0){
    $('code').parent().addClass('prettyprint linenums');
    prettyPrint();
};
});
</script>
</body>
</html>